var demoMolData = {
	"benzene" : "unnamed\n  Kekule  04101518572D\n\n  6  6  0  0  0  0  0  0  0  0999 V2000\n   10.9222   36.5707    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   10.9222   35.7707    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   10.2293   36.9707    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   10.2293   35.3707    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    9.5365   36.5707    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    9.5365   35.7707    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n  1  2  2  0  0  0  0\n  1  3  1  0  0  0  0\n  2  4  1  0  0  0  0\n  3  5  2  0  0  0  0\n  4  6  2  0  0  0  0\n  5  6  1  0  0  0  0\nM  END",
	"pyrrole": "Untitled Document-2\n  Kekule  10201418212D\n\n  5  5  0  0  0  0  0  0  0  0999 V2000\n    0.0000   -0.6348    0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\n    0.6674   -0.1498    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.6674   -0.1498    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    0.4125    0.6348    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.4125    0.6348    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n  1  2  1  0  0  0  0\n  1  3  1  0  0  0  0\n  2  4  2  0  0  0  0\n  3  5  2  0  0  0  0\n  4  5  1  0  0  0  0\nM  END",
	"furan": "furan.mol\n  ChemDraw05101518552D\n\n  5  5  0  0  0  0  0  0  0  0999 V2000\n    0.0000    0.6348    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\n    0.6674    0.1498    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.6674    0.1498    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    0.4125   -0.6348    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.4125   -0.6348    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n  1  2  1  0  0  0  0\n  1  3  1  0  0  0  0\n  2  4  2  0  0  0  0\n  3  5  2  0  0  0  0\n  4  5  1  0  0  0  0\nM  END",
	"caffeine": "caffeine.mol\n  ChemDraw05101518502D\n\n 14 15  0  0  0  0  0  0  0  0999 V2000\n    0.4407    0.4125    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    0.4407   -0.4125    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.2737    0.8250    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    1.2214    0.6639    0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.2737   -0.8250    0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\n    1.2214   -0.6639    0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.9884    0.4125    0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.2737    1.6500    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\n    1.7028    0.0000    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    1.4776    1.4482    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.9884   -0.4125    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.2737   -1.6500    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -1.7028    0.8250    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -1.7028   -0.8250    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\n  1  2  2  0  0  0  0\n  1  3  1  0  0  0  0\n  1  4  1  0  0  0  0\n  2  5  1  0  0  0  0\n  2  6  1  0  0  0  0\n  3  7  1  0  0  0  0\n  3  8  2  0  0  0  0\n  4  9  1  0  0  0  0\n  4 10  1  0  0  0  0\n  5 11  1  0  0  0  0\n  5 12  1  0  0  0  0\n  6  9  2  0  0  0  0\n  7 11  1  0  0  0  0\n  7 13  1  0  0  0  0\n 11 14  2  0  0  0  0\nM  END",
	"mannitol": "mannitol.mol\n  ChemDraw05101518522D\n\n 12 11  0  0  0  0  0  0  0  0999 V2000\n    0.3572    0.2063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.3572   -0.2063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    1.0718   -0.2063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    0.3572    1.0313    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\n   -1.0718    0.2063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.3572   -1.0313    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\n    1.7861    0.2063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    1.0718   -1.0313    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\n   -1.7861   -0.2063    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -1.0718    1.0313    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\n    2.5007   -0.2063    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\n   -2.5007    0.2063    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\n  1  2  1  0  0  0  0\n  1  3  1  0  0  0  0\n  1  4  1  6  0  0  0\n  2  5  1  0  0  0  0\n  2  6  1  6  0  0  0\n  3  7  1  0  0  0  0\n  3  8  1  1  0  0  0\n  5  9  1  0  0  0  0\n  5 10  1  1  0  0  0\n  7 11  1  0  0  0  0\n  9 12  1  0  0  0  0\nM  END",
	"morphine": "morphine.mol\n  ChemDraw05101518542D\n\n 21 25  0  0  0  0  0  0  0  0999 V2000\n   -0.6343   -0.4125    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.6343    0.4125    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    0.0801   -0.8250    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -1.3487   -0.8250    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.1576    0.1925    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -1.3487    0.8250    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    0.0801    0.8250    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    0.7946   -0.4125    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    0.0801   -1.6500    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -1.8992    0.0458    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\n   -1.3487   -1.6500    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    1.0157    0.1925    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -1.3487    1.6500    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    0.7946    0.4125    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    0.0801    1.6500    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    1.5091   -0.8250    0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.6343   -2.0625    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -2.0999   -2.0836    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.6343    2.0625    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -2.0999    2.0836    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\n    2.0999   -1.4600    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n  1  2  1  0  0  0  0\n  1  3  1  0  0  0  0\n  1  4  1  0  0  0  0\n  1  5  1  1  0  0  0\n  2  6  1  0  0  0  0\n  2  7  2  0  0  0  0\n  3  8  1  0  0  0  0\n  3  9  1  0  0  0  0\n  4 10  1  0  0  0  0\n  4 11  1  0  0  0  0\n  5 12  1  0  0  0  0\n  6 10  1  0  0  0  0\n  6 13  2  0  0  0  0\n  7 14  1  0  0  0  0\n  7 15  1  0  0  0  0\n  8 14  1  0  0  0  0\n  8 16  1  0  0  0  0\n  9 17  2  0  0  0  0\n 11 17  1  0  0  0  0\n 11 18  1  6  0  0  0\n 12 16  1  0  0  0  0\n 13 19  1  0  0  0  0\n 13 20  1  0  0  0  0\n 15 19  2  0  0  0  0\n 16 21  1  0  0  0  0\nM  END"
};
var demoMol3DData = {
	"methane": "297\n  -OEChem-11280914543D\n\n  5  4  0  0  0  0  0  0  0  0999 V2000\n   -1.1426    1.2006   -0.6583 H   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.6833    0.8132    0.2538 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -1.4615    0.4397    0.9230 H   0  0  0  0  0  0  0  0  0  0  0  0\n    0.0000   -0.0002    0.0002 H   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.1292    1.6128    0.7503 H   0  0  0  0  0  0  0  0  0  0  0  0\n  1  2  1  0  0  0  0\n  2  3  1  0  0  0  0\n  2  4  1  0  0  0  0\n  2  5  1  0  0  0  0\nM  END",
	"cyclohexane": "Untitled\n  Kekule  01021207213D\n\n 18 18  0  0  0  0  0  0  0  0999 V2000\n    1.4632   -0.1823   -0.0672 C   0  0  0  0  0  0  0  0  0  0  0  0\n    0.7095    0.5709   -1.1599 C   0  0  0  0  0  0  0  0  0  0  0  0\n    0.7368   -0.1051    1.2731 C   0  0  0  0  0  0  0  0  0  0  0  0\n    2.4647    0.2883    0.0523 H   0  0  0  0  0  0  0  0  0  0  0  0\n    1.5578   -1.2505   -0.3650 H   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.7367    0.0965   -1.2754 C   0  0  0  0  0  0  0  0  0  0  0  0\n    0.7010    1.6519   -0.8949 H   0  0  0  0  0  0  0  0  0  0  0  0\n    1.2229    0.4034   -2.1332 H   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.7093   -0.5794    1.1576 C   0  0  0  0  0  0  0  0  0  0  0  0\n    0.7291    0.9576    1.6037 H   0  0  0  0  0  0  0  0  0  0  0  0\n    1.2695   -0.7476    2.0094 H   0  0  0  0  0  0  0  0  0  0  0  0\n   -1.4630    0.1738    0.0648 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -1.2643    0.7610   -1.9959 H   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.7429   -0.9588   -1.6287 H   0  0  0  0  0  0  0  0  0  0  0  0\n   -1.2177   -0.3847    2.1284 H   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.7142   -1.6658    0.9159 H   0  0  0  0  0  0  0  0  0  0  0  0\n   -1.5302    1.2440    0.3629 H   0  0  0  0  0  0  0  0  0  0  0  0\n   -2.4763   -0.2728   -0.0479 H   0  0  0  0  0  0  0  0  0  0  0  0\n  1  2  1  0  0  0  0\n  1  3  1  0  0  0  0\n  1  4  1  0  0  0  0\n  1  5  1  0  0  0  0\n  2  6  1  0  0  0  0\n  2  7  1  0  0  0  0\n  2  8  1  0  0  0  0\n  3  9  1  0  0  0  0\n  3 10  1  0  0  0  0\n  3 11  1  0  0  0  0\n  6 12  1  0  0  0  0\n  6 13  1  0  0  0  0\n  6 14  1  0  0  0  0\n  9 12  1  0  0  0  0\n  9 15  1  0  0  0  0\n  9 16  1  0  0  0  0\n 12 17  1  0  0  0  0\n 12 18  1  0  0  0  0\nM  END",
	"asprin": "2244\n  -OEChem-11250921403D\n\n 21 21  0  0  0  0  0  0  0  0999 V2000\n    2.9180   -1.5734    2.0082 C   0  0  0  0  0  0  0  0  0  0  0  0\n    1.8509   -0.9767    2.6799 C   0  0  0  0  0  0  0  0  0  0  0  0\n    4.0236   -2.1714    2.7435 C   0  0  0  0  0  0  0  0  0  0  0  0\n    2.9348   -1.6038    0.6137 C   0  0  0  0  0  0  0  0  0  0  0  0\n    1.8152   -0.9382    4.0419 O   0  0  0  0  0  0  0  0  0  0  0  0\n    0.8008   -0.4105    1.9570 C   0  0  0  0  0  0  0  0  0  0  0  0\n    5.1920   -2.1043    2.0467 O   0  0  0  0  0  0  0  0  0  0  0  0\n    3.9623   -2.6855    3.8563 O   0  0  0  0  0  0  0  0  0  0  0  0\n    1.8846   -1.0376   -0.1090 C   0  0  0  0  0  0  0  0  0  0  0  0\n    3.7445   -2.0729    0.0609 H   0  0  0  0  0  0  0  0  0  0  0  0\n    2.4171    0.2017    4.5978 C   0  0  0  0  0  0  0  0  0  0  0  0\n    0.8176   -0.4410    0.5626 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.0345    0.0550    2.4732 H   0  0  0  0  0  0  0  0  0  0  0  0\n    5.9361   -2.5075    2.5428 H   0  0  0  0  0  0  0  0  0  0  0  0\n    1.8958   -1.0640   -1.1947 H   0  0  0  0  0  0  0  0  0  0  0  0\n    2.9441    1.1113    3.9712 O   0  0  0  0  0  0  0  0  0  0  0  0\n    2.3265    0.1503    6.0942 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.0005   -0.0011   -0.0002 H   0  0  0  0  0  0  0  0  0  0  0  0\n    2.8566   -0.7302    6.4654 H   0  0  0  0  0  0  0  0  0  0  0  0\n    2.7936    1.0443    6.5170 H   0  0  0  0  0  0  0  0  0  0  0  0\n    1.2777    0.1264    6.3998 H   0  0  0  0  0  0  0  0  0  0  0  0\n  1  2  1  0  0  0  0\n  1  3  1  0  0  0  0\n  1  4  2  0  0  0  0\n  2  5  1  0  0  0  0\n  2  6  2  0  0  0  0\n  3  7  1  0  0  0  0\n  3  8  2  0  0  0  0\n  4  9  1  0  0  0  0\n  4 10  1  0  0  0  0\n  5 11  1  0  0  0  0\n  6 12  1  0  0  0  0\n  6 13  1  0  0  0  0\n  7 14  1  0  0  0  0\n  9 12  2  0  0  0  0\n  9 15  1  0  0  0  0\n 11 16  2  0  0  0  0\n 11 17  1  0  0  0  0\n 12 18  1  0  0  0  0\n 17 19  1  0  0  0  0\n 17 20  1  0  0  0  0\n 17 21  1  0  0  0  0\nM  END",
	"ddt": "3036\n  -OEChem-11280913053D\n\n 28 29  0  0  0  0  0  0  0  0999 V2000\n    0.5585   -0.6223   -2.3126 C   0  0  0  0  0  0  0  0  0  0  0  0\n    1.9032   -1.0692   -1.6001 C   0  0  0  0  0  0  0  0  0  0  0  0\n    0.6447   -0.8006   -4.1065 Cl  0  0  0  0  0  0  0  0  0  0  0  0\n   -0.7952   -1.7026   -1.7706 Cl  0  0  0  0  0  0  0  0  0  0  0  0\n    0.0456    1.0544   -1.9374 Cl  0  0  0  0  0  0  0  0  0  0  0  0\n    3.2176   -0.5035   -2.1949 C   0  0  0  0  0  0  0  0  0  0  0  0\n    1.8846   -1.0376   -0.1090 C   0  0  0  0  0  0  0  0  0  0  0  0\n    1.9777   -2.1366   -1.8749 H   0  0  0  0  0  0  0  0  0  0  0  0\n    3.1719    0.7242   -2.7939 C   0  0  0  0  0  0  0  0  0  0  0  0\n    4.3480   -1.2638   -2.0859 C   0  0  0  0  0  0  0  0  0  0  0  0\n    1.4856   -2.1660    0.6075 C   0  0  0  0  0  0  0  0  0  0  0  0\n    2.2670    0.1198    0.5688 C   0  0  0  0  0  0  0  0  0  0  0  0\n    4.3552    1.2340   -3.3284 C   0  0  0  0  0  0  0  0  0  0  0  0\n    2.3077    1.3562   -2.8879 H   0  0  0  0  0  0  0  0  0  0  0  0\n    5.5313   -0.7541   -2.6203 C   0  0  0  0  0  0  0  0  0  0  0  0\n    4.3513   -2.2356   -1.6034 H   0  0  0  0  0  0  0  0  0  0  0  0\n    1.4691   -2.1369    2.0020 C   0  0  0  0  0  0  0  0  0  0  0  0\n    1.1951   -3.0814    0.0991 H   0  0  0  0  0  0  0  0  0  0  0  0\n    2.2506    0.1490    1.9633 C   0  0  0  0  0  0  0  0  0  0  0  0\n    2.5727    1.0177    0.0401 H   0  0  0  0  0  0  0  0  0  0  0  0\n    5.5350    0.4948   -3.2417 C   0  0  0  0  0  0  0  0  0  0  0  0\n    4.3449    2.2098   -3.8075 H   0  0  0  0  0  0  0  0  0  0  0  0\n    6.4431   -1.3411   -2.5451 H   0  0  0  0  0  0  0  0  0  0  0  0\n    1.8515   -0.9793    2.6800 C   0  0  0  0  0  0  0  0  0  0  0  0\n    1.1584   -3.0244    2.5473 H   0  0  0  0  0  0  0  0  0  0  0  0\n    2.5491    1.0585    2.4783 H   0  0  0  0  0  0  0  0  0  0  0  0\n    6.9949    1.1239   -3.9007 Cl  0  0  0  0  0  0  0  0  0  0  0  0\n    1.8316   -0.9435    4.4004 Cl  0  0  0  0  0  0  0  0  0  0  0  0\n  1  2  1  0  0  0  0\n  1  3  1  0  0  0  0\n  1  4  1  0  0  0  0\n  1  5  1  0  0  0  0\n  2  6  1  0  0  0  0\n  2  7  1  0  0  0  0\n  2  8  1  0  0  0  0\n  6  9  1  0  0  0  0\n  6 10  2  0  0  0  0\n  7 11  1  0  0  0  0\n  7 12  2  0  0  0  0\n  9 13  2  0  0  0  0\n  9 14  1  0  0  0  0\n 10 15  1  0  0  0  0\n 10 16  1  0  0  0  0\n 11 17  2  0  0  0  0\n 11 18  1  0  0  0  0\n 12 19  1  0  0  0  0\n 12 20  1  0  0  0  0\n 13 21  1  0  0  0  0\n 13 22  1  0  0  0  0\n 15 21  2  0  0  0  0\n 15 23  1  0  0  0  0\n 17 24  1  0  0  0  0\n 17 25  1  0  0  0  0\n 19 24  2  0  0  0  0\n 19 26  1  0  0  0  0\n 21 27  1  0  0  0  0\n 24 28  1  0  0  0  0\nM  END",
	"caffeine": "2519\n  -OEChem-05060922503D\n\n 24 25  0  0  0  0  0  0  0  0999 V2000\n    1.9298   -3.3025   -1.3069 C   0  0  0  0  0  0  0  0  0  0  0  0\n    1.6150   -2.0401   -0.8837 C   0  0  0  0  0  0  0  0  0  0  0  0\n    1.3245   -3.9574   -2.4210 C   0  0  0  0  0  0  0  0  0  0  0  0\n    2.9005   -3.7326   -0.4483 N   0  0  0  0  0  0  0  0  0  0  0  0\n    0.6521   -1.2709   -1.5226 N   0  0  0  0  0  0  0  0  0  0  0  0\n    2.3561   -1.6725    0.2072 N   0  0  0  0  0  0  0  0  0  0  0  0\n    0.3482   -3.1332   -3.0412 N   0  0  0  0  0  0  0  0  0  0  0  0\n    1.6219   -5.0913   -2.7868 O   0  0  0  0  0  0  0  0  0  0  0  0\n    3.1228   -2.7167    0.4451 C   0  0  0  0  0  0  0  0  0  0  0  0\n    3.5797   -5.0062   -0.4566 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.0308   -1.7993   -2.6466 C   0  0  0  0  0  0  0  0  0  0  0  0\n    0.3455    0.0703   -1.0411 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.3428   -3.6946   -4.1974 C   0  0  0  0  0  0  0  0  0  0  0  0\n    3.8499   -2.7925    1.2423 H   0  0  0  0  0  0  0  0  0  0  0  0\n    4.0990   -5.1153   -1.4119 H   0  0  0  0  0  0  0  0  0  0  0  0\n    2.8359   -5.7960   -0.3258 H   0  0  0  0  0  0  0  0  0  0  0  0\n    4.3024   -5.0401    0.3627 H   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.8974   -1.1610   -3.2550 O   0  0  0  0  0  0  0  0  0  0  0  0\n    1.2534    0.6797   -1.0863 H   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.4303    0.5484   -1.6444 H   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.0030    0.0046   -0.0058 H   0  0  0  0  0  0  0  0  0  0  0  0\n   -1.4173   -3.7088   -3.9888 H   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.1710   -3.0404   -5.0581 H   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.0097   -4.7058   -4.4413 H   0  0  0  0  0  0  0  0  0  0  0  0\n  1  2  2  0  0  0  0\n  1  3  1  0  0  0  0\n  1  4  1  0  0  0  0\n  2  5  1  0  0  0  0\n  2  6  1  0  0  0  0\n  3  7  1  0  0  0  0\n  3  8  2  0  0  0  0\n  4  9  1  0  0  0  0\n  4 10  1  0  0  0  0\n  5 11  1  0  0  0  0\n  5 12  1  0  0  0  0\n  6  9  2  0  0  0  0\n  7 11  1  0  0  0  0\n  7 13  1  0  0  0  0\n  9 14  1  0  0  0  0\n 10 15  1  0  0  0  0\n 10 16  1  0  0  0  0\n 10 17  1  0  0  0  0\n 11 18  2  0  0  0  0\n 12 19  1  0  0  0  0\n 12 20  1  0  0  0  0\n 12 21  1  0  0  0  0\n 13 22  1  0  0  0  0\n 13 23  1  0  0  0  0\n 13 24  1  0  0  0  0\nM  END",
	"morphine": "Molecule Name\n  CHEMDOOD11250908183D\n[Insert Comment Here]\n 40 44  0  0  0  0  0  0  0  0999 V2000\n    0.3884    0.5420    0.1963 C   0  0  0  1  0  0  0  0  0  0  0  0\n   -0.5385   -0.2088    0.2615 C   0  0  0  1  0  0  0  0  0  0  0  0\n    1.0919    0.2175   -0.7577 C   0  0  0  1  0  0  0  0  0  0  0  0\n   -0.2569    1.5925    0.1057 C   0  0  0  1  0  0  0  0  0  0  0  0\n    1.0495    0.4819    1.2355 C   0  0  0  1  0  0  0  0  0  0  0  0\n   -1.4550    0.3261    0.5477 C   0  0  0  1  0  0  0  0  0  0  0  0\n   -0.5339   -1.2844   -0.0016 C   0  0  0  1  0  0  0  0  0  0  0  0\n    1.4380   -0.9689   -0.5556 C   0  0  0  1  0  0  0  0  0  0  0  0\n    0.5456    0.4220   -1.8161 C   0  0  0  1  0  0  0  0  0  0  0  0\n    1.8191    0.7140   -0.7698 H   0  0  0  1  0  0  0  0  0  0  0  0\n   -1.3162    1.4114    0.6041 O   0  0  0  1  0  0  0  0  0  0  0  0\n   -0.3921    2.0169   -1.0582 C   0  0  0  1  0  0  0  0  0  0  0  0\n    0.1184    2.2301    0.5784 H   0  0  0  1  0  0  0  0  0  0  0  0\n    1.6007   -0.6068    1.3817 C   0  0  0  1  0  0  0  0  0  0  0  0\n    1.6648    1.1088    1.2152 H   0  0  0  1  0  0  0  0  0  0  0  0\n    0.5521    0.6440    1.9410 H   0  0  0  1  0  0  0  0  0  0  0  0\n   -2.4007   -0.2197    0.6870 C   0  0  0  1  0  0  0  0  0  0  0  0\n    0.4574   -1.7528   -0.5024 C   0  0  0  1  0  0  0  0  0  0  0  0\n   -1.4920   -1.8472    0.1276 C   0  0  0  1  0  0  0  0  0  0  0  0\n    2.1438   -0.9618    0.4030 N   0  0  0  1  0  0  0  0  0  0  0  0\n    1.9358   -1.2202   -1.2354 H   0  0  0  1  0  0  0  0  0  0  0  0\n   -0.1380    1.2410   -1.9394 C   0  0  0  1  0  0  0  0  0  0  0  0\n    0.7435   -0.0833   -2.4955 H   0  0  0  1  0  0  0  0  0  0  0  0\n   -1.4411    2.4257   -1.2400 O   0  0  0  1  0  0  0  0  0  0  0  0\n    0.1565    2.6937   -1.1652 H   0  0  0  1  0  0  0  0  0  0  0  0\n    1.0187   -1.2041    1.6545 H   0  0  0  1  0  0  0  0  0  0  0  0\n    2.1879   -0.5234    2.0289 H   0  0  0  1  0  0  0  0  0  0  0  0\n   -2.4201   -1.3169    0.4885 C   0  0  0  1  0  0  0  0  0  0  0  0\n   -3.3129    0.2911    0.9878 O   0  0  0  1  0  0  0  0  0  0  0  0\n    0.2503   -1.9697   -1.3283 H   0  0  0  1  0  0  0  0  0  0  0  0\n    0.6675   -2.4994   -0.0963 H   0  0  0  1  0  0  0  0  0  0  0  0\n   -1.5355   -2.6937   -0.0688 H   0  0  0  1  0  0  0  0  0  0  0  0\n    2.6986   -1.9758    0.5733 C   0  0  0  1  0  0  0  0  0  0  0  0\n   -0.4917    1.3949   -2.7191 H   0  0  0  1  0  0  0  0  0  0  0  0\n   -1.9229    1.9705   -0.8287 H   0  0  0  1  0  0  0  0  0  0  0  0\n   -3.1630   -1.7585    0.5832 H   0  0  0  1  0  0  0  0  0  0  0  0\n   -3.1138    1.0345    1.1162 H   0  0  0  1  0  0  0  0  0  0  0  0\n    2.1618   -2.6206    0.8240 H   0  0  0  1  0  0  0  0  0  0  0  0\n    3.3129   -1.8835    1.1918 H   0  0  0  1  0  0  0  0  0  0  0  0\n    3.1158   -2.2288   -0.1548 H   0  0  0  1  0  0  0  0  0  0  0  0\n  1  2  1  0  0  0  0\n  1  3  1  0  0  0  0\n  1  4  1  0  0  0  0\n  1  5  1  0  0  0  0\n  2  6  2  0  0  0  0\n  2  7  1  0  0  0  0\n  3  8  1  0  0  0  0\n  3  9  1  0  0  0  0\n  3 10  1  0  0  0  0\n  4 11  1  0  0  0  0\n  4 12  1  0  0  0  0\n  4 13  1  0  0  0  0\n  5 14  1  0  0  0  0\n  5 15  1  0  0  0  0\n  5 16  1  0  0  0  0\n  6 11  1  0  0  0  0\n  6 17  1  0  0  0  0\n  7 18  1  0  0  0  0\n  7 19  2  0  0  0  0\n  8 18  1  0  0  0  0\n  8 20  1  0  0  0  0\n  8 21  1  0  0  0  0\n  9 22  2  0  0  0  0\n  9 23  1  0  0  0  0\n 12 22  1  0  0  0  0\n 12 24  1  0  0  0  0\n 12 25  1  0  0  0  0\n 14 20  1  0  0  0  0\n 14 26  1  0  0  0  0\n 14 27  1  0  0  0  0\n 17 28  2  0  0  0  0\n 17 29  1  0  0  0  0\n 18 30  1  0  0  0  0\n 18 31  1  0  0  0  0\n 19 28  1  0  0  0  0\n 19 32  1  0  0  0  0\n 20 33  1  0  0  0  0\n 22 34  1  0  0  0  0\n 24 35  1  0  0  0  0\n 28 36  1  0  0  0  0\n 29 37  1  0  0  0  0\n 33 38  1  0  0  0  0\n 33 39  1  0  0  0  0\n 33 40  1  0  0  0  0\nM  END"
}
var demoSmilesData = {
	"benzene": "c1ccccc1",
	"pyrrole": "c1c[nH]cc1",
	"furan": "c1cocc1",
	"caffeine": "O=c1n(C)c2c(n(cn2)C)c(=O)n1C",
	"mannitol": "OC[C@@H](O)[C@@H](O)[C@H](O)[C@H](O)CO"
	//"morphine": "CN1C2C3[C@@]4(CC1)c5c(c(ccc5C2)O)OC4[C@@H](O)C=C3"
};
var demoTautomerSrcMolData = {
	"pyrazole": "unnamed\n  -INDIGO-04111722232D\n\n  5  5  0  0  0  0  0  0  0  0999 V2000\n    0.0000    0.0000    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -1.2944   -0.9405    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.8000   -2.4621    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    0.8000   -2.4621    0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\n    1.2944   -0.9405    0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\n  1  2  2  0  0  0  0\n  2  3  1  0  0  0  0\n  3  4  2  0  0  0  0\n  4  5  1  0  0  0  0\n  5  1  1  0  0  0  0\nM  END"
};
demoTautomerSrcMolData["purin-6-ol"] = "unnamed\n  -INDIGO-04111722282D\n\n 10 11  0  0  0  0  0  0  0  0999 V2000\n    2.4000    1.3856    0.0000 O   0  0  0  0  0  0  0  0  0  0  0  0\n    1.6000    0.0000    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    0.0000    0.0000    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -0.8000   -1.3856    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -2.3650   -1.0530    0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\n   -2.5323    0.5383    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n   -1.0706    1.1890    0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\n    0.0000   -2.7713    0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\n    1.6000   -2.7713    0.0000 C   0  0  0  0  0  0  0  0  0  0  0  0\n    2.4000   -1.3856    0.0000 N   0  0  0  0  0  0  0  0  0  0  0  0\n  1  2  1  0  0  0  0\n  2  3  2  0  0  0  0\n  3  4  1  0  0  0  0\n  4  5  1  0  0  0  0\n  5  6  1  0  0  0  0\n  6  7  2  0  0  0  0\n  7  3  1  0  0  0  0\n  4  8  2  0  0  0  0\n  8  9  1  0  0  0  0\n  9 10  2  0  0  0  0\n 10  2  1  0  0  0  0\nM  END";

var DemoUtils = {
	kekuleAvailable: function()
	{
		return typeof(Kekule) !== 'undefined';
	},
	loadUrl: function(url, callback)
	{
		var req = new XMLHttpRequest();
		req.onreadystatechange = function ()
		{
			if (req.readyState != 4) return;
			if (req.status != 200 && req.status != 304)
			{
				callback(false, null);  // XHR failed
				throw 'HTTP error ' + req.status;
				return;
			}			
			callback(true, req.responseText || req.response);  // call successfule
		};

		req.open("GET", url);
		req.send();
	},
	loadFile: function(file, callback)
	{
		if (file)
		{
		  var reader = new FileReader();
		  reader.onload = function(e)
			{
				var content = reader.result;
				if (callback)
					callback(true, content);					
			};
		  reader.onerror = function()
			{
				console.error('Fail to load file: ', file.name);
				if (callback)
					callback(false);					
			}
		  reader.readAsText(file);
		}
	},
	assocFilePickerHandler: function(pickerElem, callback)
	{
		pickerElem.onchange = function()
		{
			DemoUtils.loadFile(pickerElem.files[0], callback);			
		}
	},
	assocFilePickerRelatedElems: function(pickerElem, relatedElems, callback)
	{
		pickerElem.onchange = function()
		{
			DemoUtils.loadFile(pickerElem.files[0], function(success, content){
				if (success)
				{
					if (relatedElems.contentDisplayer)
						relatedElems.contentDisplayer.value = content;
					if (relatedElems.molViewer)
						DemoUtils.loadMolDataInChemViewer(relatedElems.molViewer, content);					
				}
				if (callback)
					callback(success, content);
			});	
		}
	},
	initMolList: function(listElem, assocElems, srcMolDataList, mols)
    {
	  if (!srcMolDataList)
	    srcMolDataList = demoMolData;
      var elemList = listElem
      elemList.innerHTMl = '';
	  if (!mols)
	  {
		mols = Object.getOwnPropertyNames(srcMolDataList);
	  }
	  mols.unshift('(None)');
      for (var i = 0, l = mols.length; i < l; ++i)
      {
        var id = mols[i];
        var elemItem = document.createElement('option');
        elemItem.setAttribute('value', id);		
        var caption = id;
		elemItem.innerHTML = caption;        
        elemList.appendChild(elemItem);
      }
      
      var viewerElem = assocElems.viewer;
	  var textArea = assocElems.textArea;
	  
      elemList.onchange = function(e)
      {
        var id = elemList.value;
		var molData = id? srcMolDataList[id]: null;
		//if (molData)
		{
			if (textArea)
				textArea.value = molData || '';
			if (viewerElem)
			{
				DemoUtils.loadMolDataInChemViewer(viewerElem, molData);
			}
        }		
      };
    },
	loadMolDataInChemViewer: function(viewerElem, molData)
	{
		if (viewerElem && DemoUtils.kekuleAvailable())
		{
			var viewer = Kekule.Widget.getWidgetOnElem(viewerElem);
			var mol = molData? Kekule.IO.loadFormatData(molData, 'mol'): null;
			viewer.setChemObj(mol);
		}
	}
}

function $(id)
{
	return document.getElementById(id);
}